<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#f4a4b4">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <link rel="apple-touch-icon" href="icon.png">
    <title>Apps</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            height: 100%;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f4a4b4;
            min-height: 100%;
            color: #5c2a2a;
            padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
            padding-top: calc(env(safe-area-inset-top) + 40px);
            padding-bottom: calc(env(safe-area-inset-bottom) + 20px);
            overflow-x: hidden;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            position: relative;
        }

        .sprinkles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .sprinkle {
            position: absolute;
            width: 4px;
            height: 12px;
            border-radius: 2px;
        }

        /* Flip Clock Header */
        .flip-clock-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
            margin-bottom: 30px;
            margin-top: -15px;
            position: relative;
            z-index: 1;
            perspective: 1000px;
        }

        .flip-ampm {
            display: flex;
            align-items: center;
            margin-left: 4px;
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 13px;
            font-weight: 700;
            background: linear-gradient(to bottom, #2a2a2a 0%, #222 100%);
            color: #ddd;
            padding: 4px 5px;
            border-radius: 4px;
            letter-spacing: 1px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.4);
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
            height: 40px;
            align-self: center;
        }

        .flip-group {
            display: flex;
            gap: 2px;
        }

        .flip-separator {
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 6px;
            padding: 0 2px;
        }

        .flip-separator-dot {
            width: 5px;
            height: 5px;
            background: #333;
            border-radius: 50%;
            box-shadow: inset 0 1px 2px rgba(0,0,0,0.5);
        }

        .flip-digit {
            position: relative;
            width: 28px;
            height: 40px;
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 28px;
            font-weight: 700;
            perspective: 400px;
        }

        .flip-digit-inner {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .flip-card {
            position: absolute;
            width: 100%;
            height: 50%;
            overflow: hidden;
            backface-visibility: hidden;
        }

        .flip-card-top {
            top: 0;
            background: linear-gradient(to bottom, #2a2a2a 0%, #1f1f1f 100%);
            border-radius: 4px 4px 0 0;
            border-bottom: 1px solid #111;
            transform-origin: bottom center;
            box-shadow:
                inset 0 1px 0 rgba(255,255,255,0.1),
                0 -1px 2px rgba(0,0,0,0.3);
        }

        .flip-card-bottom {
            bottom: 0;
            background: linear-gradient(to bottom, #1a1a1a 0%, #252525 100%);
            border-radius: 0 0 4px 4px;
            border-top: 1px solid #333;
            transform-origin: top center;
            box-shadow:
                inset 0 -1px 0 rgba(255,255,255,0.05),
                0 2px 4px rgba(0,0,0,0.4);
        }

        .flip-card-content {
            position: absolute;
            width: 100%;
            height: 200%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #ddd;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
        }

        .flip-card-top .flip-card-content {
            top: 0;
        }

        .flip-card-bottom .flip-card-content {
            bottom: 0;
        }

        /* Flip animation cards */
        .flip-card-flip {
            position: absolute;
            width: 100%;
            height: 50%;
            overflow: hidden;
            backface-visibility: hidden;
            z-index: 10;
        }

        .flip-card-flip-top {
            top: 0;
            background: linear-gradient(to bottom, #2a2a2a 0%, #1f1f1f 100%);
            border-radius: 4px 4px 0 0;
            transform-origin: bottom center;
            box-shadow:
                inset 0 1px 0 rgba(255,255,255,0.1),
                0 -1px 2px rgba(0,0,0,0.3);
        }

        .flip-card-flip-bottom {
            bottom: 0;
            background: linear-gradient(to bottom, #1a1a1a 0%, #252525 100%);
            border-radius: 0 0 4px 4px;
            transform-origin: top center;
            transform: rotateX(90deg);
            box-shadow:
                inset 0 -1px 0 rgba(255,255,255,0.05),
                0 2px 4px rgba(0,0,0,0.4);
        }

        .flip-card-flip-top .flip-card-content,
        .flip-card-flip-bottom .flip-card-content {
            position: absolute;
            width: 100%;
            height: 200%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #ddd;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
        }

        .flip-card-flip-top .flip-card-content {
            top: 0;
        }

        .flip-card-flip-bottom .flip-card-content {
            bottom: 0;
        }

        @keyframes flipTop {
            0% { transform: rotateX(0deg); }
            100% { transform: rotateX(-90deg); }
        }

        @keyframes flipBottom {
            0% { transform: rotateX(90deg); }
            100% { transform: rotateX(0deg); }
        }

        .flip-card-flip-top.flipping {
            animation: flipTop 0.3s ease-in forwards;
        }

        .flip-card-flip-bottom.flipping {
            animation: flipBottom 0.3s ease-out 0.3s forwards;
        }

        .flip-digit::after {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            top: 50%;
            height: 1px;
            background: linear-gradient(to right,
                transparent 0%,
                rgba(0,0,0,0.6) 10%,
                rgba(0,0,0,0.6) 90%,
                transparent 100%);
            z-index: 20;
            pointer-events: none;
        }

        .flip-digit::before {
            content: '';
            position: absolute;
            left: 2px;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 3px;
            background: radial-gradient(circle at 30% 30%, #555, #222);
            border-radius: 50%;
            z-index: 25;
            box-shadow: 21px 0 0 0 #222;
        }

        .apps-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            padding: 0 20px;
            max-width: 400px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .app-link {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            gap: 8px;
        }

        .app-icon {
            width: 70px;
            height: 70px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            transition: transform 0.15s ease;
            box-shadow: 0 4px 12px rgba(92, 42, 42, 0.2);
        }

        .app-link:active .app-icon {
            transform: scale(0.92);
        }

        .app-name {
            font-size: 12px;
            color: #5c2a2a;
            text-align: center;
            font-weight: 500;
        }

        /* App icon colors */
        .app-aes { background: linear-gradient(135deg, #5856d6, #af52de); }
        .app-clock { background: linear-gradient(135deg, #1c1c1e, #3a3a3c); border: 1px solid #555; }
        .app-countdown { background: linear-gradient(135deg, #1a1a2e, #0f3460); }
        .app-ruler { background: linear-gradient(135deg, #f5c518, #ff9500); }
        .app-speedometer { background: linear-gradient(135deg, #30d158, #34c759); }
        .app-totp { background: linear-gradient(135deg, #007aff, #5ac8fa); }
        .app-zippo { background: linear-gradient(135deg, #5a0a0a, #8a1414); }
        .app-weather { background: linear-gradient(135deg, #2193b0, #6dd5ed); }
        .app-network { background: linear-gradient(135deg, #1a1a2e, #0f3460); }
        .app-radio { background: linear-gradient(135deg, #e94560, #ff6b6b); }
        .app-scanner { background: linear-gradient(135deg, #1e3a5f, #2563eb); }
        .app-podcast { background: linear-gradient(135deg, #5856d6, #8b5cf6); }
        .app-news { background: linear-gradient(135deg, #1a1a1a, #333); }
        .app-reddit { background: linear-gradient(135deg, #ff4500, #ff8b60); }
        .app-simon { background: linear-gradient(135deg, #2ecc40, #0074d9); }
        .app-lunar { background: linear-gradient(135deg, #c41e3a, #8b0000); }
        .app-stopwatch { background: linear-gradient(135deg, #ff9500, #ff6b00); }
        .app-feed { background: linear-gradient(135deg, #000, #1a1a1a); border: 1px solid #333; }
    </style>
</head>
<body>
    <div class="sprinkles" id="sprinkles"></div>

    <div class="flip-clock-header">
        <div class="flip-group">
            <div class="flip-digit" id="flip-h1">
                <div class="flip-digit-inner">
                    <div class="flip-card flip-card-top"><div class="flip-card-content">0</div></div>
                    <div class="flip-card flip-card-bottom"><div class="flip-card-content">0</div></div>
                    <div class="flip-card-flip flip-card-flip-top"><div class="flip-card-content">0</div></div>
                    <div class="flip-card-flip flip-card-flip-bottom"><div class="flip-card-content">0</div></div>
                </div>
            </div>
            <div class="flip-digit" id="flip-h2">
                <div class="flip-digit-inner">
                    <div class="flip-card flip-card-top"><div class="flip-card-content">0</div></div>
                    <div class="flip-card flip-card-bottom"><div class="flip-card-content">0</div></div>
                    <div class="flip-card-flip flip-card-flip-top"><div class="flip-card-content">0</div></div>
                    <div class="flip-card-flip flip-card-flip-bottom"><div class="flip-card-content">0</div></div>
                </div>
            </div>
        </div>
        <div class="flip-separator">
            <div class="flip-separator-dot"></div>
            <div class="flip-separator-dot"></div>
        </div>
        <div class="flip-group">
            <div class="flip-digit" id="flip-m1">
                <div class="flip-digit-inner">
                    <div class="flip-card flip-card-top"><div class="flip-card-content">0</div></div>
                    <div class="flip-card flip-card-bottom"><div class="flip-card-content">0</div></div>
                    <div class="flip-card-flip flip-card-flip-top"><div class="flip-card-content">0</div></div>
                    <div class="flip-card-flip flip-card-flip-bottom"><div class="flip-card-content">0</div></div>
                </div>
            </div>
            <div class="flip-digit" id="flip-m2">
                <div class="flip-digit-inner">
                    <div class="flip-card flip-card-top"><div class="flip-card-content">0</div></div>
                    <div class="flip-card flip-card-bottom"><div class="flip-card-content">0</div></div>
                    <div class="flip-card-flip flip-card-flip-top"><div class="flip-card-content">0</div></div>
                    <div class="flip-card-flip flip-card-flip-bottom"><div class="flip-card-content">0</div></div>
                </div>
            </div>
        </div>
        <div class="flip-separator">
            <div class="flip-separator-dot"></div>
            <div class="flip-separator-dot"></div>
        </div>
        <div class="flip-group">
            <div class="flip-digit" id="flip-s1">
                <div class="flip-digit-inner">
                    <div class="flip-card flip-card-top"><div class="flip-card-content">0</div></div>
                    <div class="flip-card flip-card-bottom"><div class="flip-card-content">0</div></div>
                    <div class="flip-card-flip flip-card-flip-top"><div class="flip-card-content">0</div></div>
                    <div class="flip-card-flip flip-card-flip-bottom"><div class="flip-card-content">0</div></div>
                </div>
            </div>
            <div class="flip-digit" id="flip-s2">
                <div class="flip-digit-inner">
                    <div class="flip-card flip-card-top"><div class="flip-card-content">0</div></div>
                    <div class="flip-card flip-card-bottom"><div class="flip-card-content">0</div></div>
                    <div class="flip-card-flip flip-card-flip-top"><div class="flip-card-content">0</div></div>
                    <div class="flip-card-flip flip-card-flip-bottom"><div class="flip-card-content">0</div></div>
                </div>
            </div>
        </div>
        <div class="flip-ampm" id="flip-ampm">AM</div>
    </div>

    <div class="apps-grid">
        <a href="aes/" class="app-link">
            <div class="app-icon app-aes">üîê</div>
            <span class="app-name">AES</span>
        </a>

        <a href="clock/" class="app-link">
            <div class="app-icon app-clock">üïê</div>
            <span class="app-name">Clock</span>
        </a>

        <a href="countdown/" class="app-link">
            <div class="app-icon app-countdown">üìÖ</div>
            <span class="app-name">Countdown</span>
        </a>

        <a href="lunar/" class="app-link">
            <div class="app-icon app-lunar">üåô</div>
            <span class="app-name">Lunar</span>
        </a>

        <a href="network/" class="app-link">
            <div class="app-icon app-network">üåê</div>
            <span class="app-name">Network</span>
        </a>

        <a href="news/" class="app-link">
            <div class="app-icon app-news">üì∞</div>
            <span class="app-name">News</span>
        </a>

        <a href="podcasts/" class="app-link">
            <div class="app-icon app-podcast">üéôÔ∏è</div>
            <span class="app-name">Podcasts</span>
        </a>

        <a href="reddit/" class="app-link">
            <div class="app-icon app-reddit">üí¨</div>
            <span class="app-name">Reddit</span>
        </a>

        <a href="feed/" class="app-link" id="feed-app" style="display: none;">
            <div class="app-icon app-feed">üì±</div>
            <span class="app-name">Feed</span>
        </a>

        <a href="radio/" class="app-link">
            <div class="app-icon app-radio">üìª</div>
            <span class="app-name">Radio</span>
        </a>

        <a href="ruler/" class="app-link">
            <div class="app-icon app-ruler">üìè</div>
            <span class="app-name">Ruler</span>
        </a>

        <a href="scanner/" class="app-link">
            <div class="app-icon app-scanner">üì°</div>
            <span class="app-name">Scanner</span>
        </a>

        <a href="simon/" class="app-link">
            <div class="app-icon app-simon">üéÆ</div>
            <span class="app-name">Simon</span>
        </a>

        <a href="speedometer/" class="app-link">
            <div class="app-icon app-speedometer">üöó</div>
            <span class="app-name">Speedometer</span>
        </a>

        <a href="stopwatch/" class="app-link">
            <div class="app-icon app-stopwatch">‚è±Ô∏è</div>
            <span class="app-name">Stopwatch</span>
        </a>

        <a href="totp/" class="app-link">
            <div class="app-icon app-totp">üîë</div>
            <span class="app-name">TOTP</span>
        </a>

        <a href="weather/" class="app-link">
            <div class="app-icon app-weather">üå§Ô∏è</div>
            <span class="app-name">Weather</span>
        </a>

        <a href="zippo/" class="app-link">
            <div class="app-icon app-zippo">üî•</div>
            <span class="app-name">Zippo</span>
        </a>
    </div>

    <script>
        // Sprinkles
        const colors = ['#fff', '#f5c518', '#5ac8fa', '#ff6b6b', '#a8e6cf', '#dda0dd'];
        const sprinklesContainer = document.getElementById('sprinkles');

        const cols = 10;
        const rows = 12;
        const cellWidth = 100 / cols;
        const cellHeight = 100 / rows;

        for (let row = 0; row < rows; row++) {
            for (let col = 0; col < cols; col++) {
                const sprinkle = document.createElement('div');
                sprinkle.className = 'sprinkle';
                const x = col * cellWidth + Math.random() * cellWidth;
                const y = row * cellHeight + Math.random() * cellHeight;
                sprinkle.style.left = x + '%';
                sprinkle.style.top = y + '%';
                sprinkle.style.background = colors[Math.floor(Math.random() * colors.length)];
                sprinkle.style.transform = `rotate(${Math.random() * 360}deg)`;
                sprinklesContainer.appendChild(sprinkle);
            }
        }

        // Flip Clock
        const flipDigits = {
            h1: document.getElementById('flip-h1'),
            h2: document.getElementById('flip-h2'),
            m1: document.getElementById('flip-m1'),
            m2: document.getElementById('flip-m2'),
            s1: document.getElementById('flip-s1'),
            s2: document.getElementById('flip-s2')
        };
        const ampmEl = document.getElementById('flip-ampm');
        let lastFlipValues = { h1: '', h2: '', m1: '', m2: '', s1: '', s2: '' };
        let lastAmpm = '';

        function flipDigit(digitEl, oldValue, newValue) {
            const staticTop = digitEl.querySelector('.flip-card-top .flip-card-content');
            const staticBottom = digitEl.querySelector('.flip-card-bottom .flip-card-content');
            const flipTop = digitEl.querySelector('.flip-card-flip-top');
            const flipBottom = digitEl.querySelector('.flip-card-flip-bottom');
            const flipTopContent = flipTop.querySelector('.flip-card-content');
            const flipBottomContent = flipBottom.querySelector('.flip-card-content');

            flipTopContent.textContent = oldValue;
            flipBottomContent.textContent = newValue;
            staticTop.textContent = newValue;
            staticBottom.textContent = oldValue;

            flipTop.classList.remove('flipping');
            flipBottom.classList.remove('flipping');
            void flipTop.offsetWidth;

            flipTop.style.transform = 'rotateX(0deg)';
            flipBottom.style.transform = 'rotateX(90deg)';
            flipTop.classList.add('flipping');
            flipBottom.classList.add('flipping');

            setTimeout(() => {
                staticTop.textContent = newValue;
                staticBottom.textContent = newValue;
                flipTop.style.transform = 'rotateX(-90deg)';
                flipBottom.style.transform = 'rotateX(0deg)';
                flipTop.classList.remove('flipping');
                flipBottom.classList.remove('flipping');
            }, 600);
        }

        function updateFlipClock() {
            const now = new Date();
            let hours = now.getHours();
            const ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12;
            if (hours === 0) hours = 12;
            const hoursStr = hours.toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');

            const values = {
                h1: hoursStr[0],
                h2: hoursStr[1],
                m1: minutes[0],
                m2: minutes[1],
                s1: seconds[0],
                s2: seconds[1]
            };

            for (const key in values) {
                if (values[key] !== lastFlipValues[key]) {
                    if (lastFlipValues[key] !== '') {
                        flipDigit(flipDigits[key], lastFlipValues[key], values[key]);
                    } else {
                        flipDigits[key].querySelectorAll('.flip-card-content').forEach(c => {
                            c.textContent = values[key];
                        });
                    }
                    lastFlipValues[key] = values[key];
                }
            }

            if (ampm !== lastAmpm) {
                ampmEl.textContent = ampm;
                lastAmpm = ampm;
            }
        }

        updateFlipClock();
        setInterval(updateFlipClock, 1000);

        // Clock interaction
        const clockHeader = document.querySelector('.flip-clock-header');
        let tapCount = 0;
        let tapTimer = null;
        clockHeader.addEventListener('click', () => {
            tapCount++;
            if (tapTimer) clearTimeout(tapTimer);
            if (tapCount === 3) {
                document.getElementById('feed-app').style.display = 'flex';
                tapCount = 0;
            } else {
                tapTimer = setTimeout(() => { tapCount = 0; }, 400);
            }
        });
    </script>
</body>
</html>
